[{"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\App.tsx":"1","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\index.tsx":"2","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\reportWebVitals.ts":"3","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\RegisterPage.tsx":"4","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\LoginPage.tsx":"5","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Navigation.tsx":"6","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Router.tsx":"7","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\HomePage.tsx":"8","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Dashboard.tsx":"9","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Components\\Loader.tsx":"10","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\AuthAndNonAuthConstants.tsx":"11","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\AuthRoute.tsx":"12"},{"size":409,"mtime":1615727992051,"results":"13","hashOfConfig":"14"},{"size":501,"mtime":1607004065868,"results":"15","hashOfConfig":"14"},{"size":425,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":4985,"mtime":1615739808858,"results":"17","hashOfConfig":"14"},{"size":3214,"mtime":1616356290633,"results":"18","hashOfConfig":"14"},{"size":592,"mtime":1613306168267,"results":"19","hashOfConfig":"14"},{"size":1110,"mtime":1616356598424,"results":"20","hashOfConfig":"14"},{"size":339,"mtime":1613306147605,"results":"21","hashOfConfig":"14"},{"size":5802,"mtime":1616881349433,"results":"22","hashOfConfig":"14"},{"size":363,"mtime":1614500891498,"results":"23","hashOfConfig":"14"},{"size":155,"mtime":1616353555041,"results":"24","hashOfConfig":"14"},{"size":921,"mtime":1616355444530,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},"1y5otnw",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"31"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"31"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\App.tsx",["56"],"import React from \"react\";\nimport { Box } from \"@material-ui/core\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Router } from \"./Router\";\nimport { Navigation } from \"./Pages/Navigation\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className=\"nav-wrapper\">\n        <Navigation />\n      </div>\n      <Router />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\index.tsx",[],["57","58"],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\reportWebVitals.ts",[],["59","60"],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\RegisterPage.tsx",[],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\LoginPage.tsx",[],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Navigation.tsx",["61"],"import { Box } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./styles/Navigation.css\";\r\n\r\nexport const Navigation = () => {\r\n  return (\r\n    <div className=\"container-wrapper\">\r\n      <nav className=\"navbar navbar-light nav-link-buttons \">\r\n        <Link to=\"/\" className=\"nav-btn mr-3\">\r\n          Home\r\n        </Link>\r\n        <Link to=\"/register\" className=\"nav-btn mr-3\">\r\n          Register\r\n        </Link>\r\n        <Link to=\"/login\" className=\"nav-btn\">\r\n          Login\r\n        </Link>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Router.tsx",["62"],"import React from \"react\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { Login as LoginPage } from \"./Pages/Authorization/LoginPage\";\r\nimport { Register as RegisterPage } from \"./Pages/Authorization/RegisterPage\";\r\nimport { Dashboard } from \"./Pages/Dashboard\";\r\nimport { HomePage } from \"./Pages/HomePage\";\r\nimport { AuthRoute } from \"./Pages/Authorization/AuthRoute\";\r\nimport {\r\n  AuthRoutes,\r\n  NonAuthRoutes,\r\n} from \"./Pages/Authorization/AuthAndNonAuthConstants\";\r\n\r\nexport const Router = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/login\">\r\n        <Box>\r\n          <LoginPage />\r\n        </Box>\r\n      </Route>\r\n      <Route path=\"/register\">\r\n        <Box>\r\n          <RegisterPage />\r\n        </Box>\r\n      </Route>\r\n      {/* <Route path=\"/dashboard\">\r\n        <Box>\r\n          <Dashboard />\r\n        </Box>\r\n      </Route> */}\r\n      <AuthRoute \r\n\t\t\t\tpath={AuthRoutes.dashboard}\r\n\t\t\t\tComponent={Dashboard} />\r\n      <Route path=\"/\">\r\n        <Box>\r\n          <HomePage />\r\n        </Box>\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\HomePage.tsx",[],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Dashboard.tsx",["63","64"],"import { Button } from \"reactstrap\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Input } from \"reactstrap\";\r\nimport \"./styles/Dashboard.css\";\r\nimport logo from \"../assets/original.gif\";\r\nimport { BiRightArrow } from \"react-icons/bi\";\r\nimport { BsHeartFill } from \"react-icons/bs\";\r\nimport axios from \"axios\";\r\n\r\ninterface Person {\r\n  id: number;\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  birthdate: string;\r\n}\r\n\r\ninterface Post {\r\n  id?: number;\r\n  userId: number;\r\n  dateCreated: string;\r\n  picture: string;\r\n  text: string;\r\n  like: number;\r\n  dislike: number;\r\n}\r\n\r\nexport const Dashboard = () => {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [myPosts, setMyPosts] = useState<Post[]>([]);\r\n  const [isLiked, setIsLiked] = useState<Post>();\r\n  const [post, setPost] = useState<Post>({\r\n    userId: 0,\r\n    dateCreated: \"\",\r\n    picture: \"\",\r\n    text: \"\",\r\n    like: 0,\r\n    dislike: 0,\r\n  });\r\n  const [givenUser, setGivenUser] = useState<Person>({\r\n    id: 0,\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    birthdate: \"\",\r\n  });\r\n  const count = useRef(0);\r\n  let currentCount = count.current;\r\n\r\n  useEffect(() => {\r\n    const data = localStorage.getItem(\"myData\");\r\n    let arr = {};\r\n    if (data) {\r\n      arr = JSON.parse(data);\r\n\r\n      const array = Object.entries(arr);\r\n      console.log(\"array\", array);\r\n      const user = Object.fromEntries(array);\r\n      console.log(\"USER\", user);\r\n      var userData = Object.keys(user).map((key) => `${user[key]}`);\r\n      console.log(\"USERdata\", userData);\r\n      setGivenUser({\r\n        id: parseInt(userData[0]),\r\n        name: userData[1],\r\n        surname: userData[2],\r\n        email: userData[3],\r\n        birthdate: userData[4],\r\n      });\r\n      setIsAuth(true);\r\n      console.log(givenUser);\r\n    } else {\r\n      <Redirect to=\"/login\" />;\r\n      setIsAuth(false);\r\n      localStorage.clear();\r\n    }\r\n\r\n    // console.log(\"givenuser: \", givenUser);\r\n  }, [isAuth]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"kjsjjsij\");\r\n    if (isAuth === true) {\r\n      axios\r\n        .get(`http://localhost:7070/api/posts/?userId=${givenUser.id}`)\r\n        .then((response) => setMyPosts(response.data));\r\n    } else {\r\n      <Redirect to=\"/login\" />;\r\n    }\r\n  }, [isAuth]);\r\n\r\n  console.log(\"my posts\", myPosts);\r\n\r\n  const Logout = () => {\r\n    setIsAuth(false);\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  };\r\n\r\n  const updateLikecount = (post: Post) => {\r\n    let dataForUpdate: Post = {\r\n      id: post.id,\r\n      userId: post.userId,\r\n      dateCreated: post.dateCreated,\r\n      picture: post.picture,\r\n      like: post.like ? post.like + 1 : 1,\r\n      dislike: post.dislike,\r\n      text: post.text,\r\n    };\r\n    console.log(\"dataforupdate\", dataForUpdate);\r\n    count.current = dataForUpdate.like;\r\n    console.log(count.current);\r\n    axios\r\n      .put(`http://localhost:7070/api/posts/put`, dataForUpdate)\r\n      .then((response) => setIsLiked(response.data));\r\n    console.log(\"likes\", isLiked);\r\n  };\r\n\r\n  // if (!isAuth) {\r\n  //   return <Redirect to=\"/login\" />;\r\n  // }\r\n\r\n  const handleClick = () => {\r\n    if (post.text || post.picture) {\r\n      axios\r\n        .post(\"http://localhost:7070/api/posts/post\", post)\r\n        .then((resp) => setMyPosts([...myPosts, resp.data]));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"dashboard-container\">\r\n        <div className=\"row dashboard-row\">\r\n          <div className=\"col-4 col-sm-3 left-panel\">\r\n            <div className=\"d-flex justify-content-center\">\r\n              <h5>Welcome {givenUser.name} </h5>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 col-sm-7 body-panel\">Posts</div>\r\n          <div className=\"col-4 col-sm-2 right-panel\">NEWS</div>\r\n        </div>\r\n        <div className=\"row dashboard-row\">\r\n          <div className=\"col-4 col-sm-3 left-panel\">\r\n            {\" \"}\r\n            <div className=\"d-flex justify-content-center\">\r\n              {\" \"}\r\n              <img\r\n                className=\"catlook-profile-pic mt-15\"\r\n                src={logo}\r\n                alt=\"loading...\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 col-sm-7 body-panel\">\r\n            <div className=\"post-add-input-wrapper\">\r\n              <Input\r\n                className=\"add-post-input\"\r\n                placeholder=\"Pievienot jaunu ierakstu\"\r\n                onChange={(e) =>\r\n                  setPost({\r\n                    ...post,\r\n                    text: e.target.value,\r\n                    userId: givenUser.id,\r\n                  })\r\n                }\r\n              ></Input>\r\n              <BiRightArrow\r\n                className=\"right-arrow-send\"\r\n                size=\"20\"\r\n                onClick={() => handleClick()}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 col-sm-2 right-panel\">.col-2 .col-md-4</div>\r\n        </div>\r\n        <div className=\"row dashboard-row\">\r\n          <div className=\"col-4 col-sm-3 left-panel\"></div>\r\n          <div className=\"col-4 col-sm-7 body-panel\">\r\n            {myPosts.map((post, index) => (\r\n              <div key={index} className=\"post-container-wrapper\">\r\n                <div>{post.text}</div>\r\n                <div>\r\n                  {currentCount}\r\n                  <BsHeartFill\r\n                    className=\"like-icon\"\r\n                    onClick={() => updateLikecount(post)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"col-4 col-sm-2 right-panel\"></div>\r\n        </div>\r\n      </div>\r\n      {isAuth ? <Button onClick={() => Logout()}>Logout</Button> : <></>}\r\n    </>\r\n  );\r\n};\r\n","C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Components\\Loader.tsx",[],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\AuthAndNonAuthConstants.tsx",[],"C:\\Users\\Nora\\source\\repos\\Social-media-app\\Social-media-app-fe\\Social-app-fe\\social-app-fe\\src\\Pages\\Authorization\\AuthRoute.tsx",[],{"ruleId":"65","severity":1,"message":"66","line":2,"column":10,"nodeType":"67","messageId":"68","endLine":2,"endColumn":13},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"69","replacedBy":"73"},{"ruleId":"71","replacedBy":"74"},{"ruleId":"65","severity":1,"message":"66","line":1,"column":10,"nodeType":"67","messageId":"68","endLine":1,"endColumn":13},{"ruleId":"65","severity":1,"message":"75","line":11,"column":3,"nodeType":"67","messageId":"68","endLine":11,"endColumn":16},{"ruleId":"76","severity":1,"message":"77","line":79,"column":6,"nodeType":"78","endLine":79,"endColumn":14,"suggestions":"79"},{"ruleId":"76","severity":1,"message":"80","line":90,"column":6,"nodeType":"78","endLine":90,"endColumn":14,"suggestions":"81"},"@typescript-eslint/no-unused-vars","'Box' is defined but never used.","Identifier","unusedVar","no-native-reassign",["82"],"no-negated-in-lhs",["83"],["82"],["83"],"'NonAuthRoutes' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'givenUser'. Either include it or remove the dependency array.","ArrayExpression",["84"],"React Hook useEffect has a missing dependency: 'givenUser.id'. Either include it or remove the dependency array.",["85"],"no-global-assign","no-unsafe-negation",{"desc":"86","fix":"87"},{"desc":"88","fix":"89"},"Update the dependencies array to be: [givenUser, isAuth]",{"range":"90","text":"91"},"Update the dependencies array to be: [givenUser.id, isAuth]",{"range":"92","text":"93"},[2021,2029],"[givenUser, isAuth]",[2316,2324],"[givenUser.id, isAuth]"]